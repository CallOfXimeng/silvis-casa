---
---

@import index, font, basic, layout, classes

/* 全局基础设置：添加纹理底色并取消边框 */
html
  /* 设置底色 */
  background-color: #eff7f4
  /* 叠加半透明纹理图片 */
  background-image: url("../texture.png")
  background-repeat: repeat
  background-blend-mode: multiply
  padding: 0 !important 

body
  /* 取消网页主体边框和阴影，使底色纹理连贯 */
  box-shadow: none 
  background: transparent /* 允许背景纹理透出 */
  max-width: 1200px
  margin: 0 auto

/* 顶部标题栏：极粗体、靠左、带纹理 */
body > header
  background-color: rgba(0, 74, 153, 0.8) 
  background-blend-mode: normal
  background-image: url("../texture.png")
  color: $light
  display: flex
  justify-content: space-between
  align-items: center
  padding: 1rem 4%
  /* 标题栏阴影，增加与背景的深度感 */
  box-shadow: 0 2px 10px rgba(0,0,0,0.1)
  
  a.title
    font-weight: 900
    font-size: 1.6rem
    text-decoration: none
    color: inherit
    letter-spacing: -0.5px

/* --- 顶部 Hero 区布局 --- */
.hero-section
  display: flex
  align-items: stretch
  gap: 15px
  padding: 20px 4% 10px
  margin-bottom: 0

.sidebar-mini
  width: 180px
  flex-shrink: 0

/* 侧边栏卡片：强化圆角边框 */
.sidebar-box
  height: 100%
  background: rgba(255, 255, 255, 0.8) /* 微透明白色，透出背景质感 */
  /* 加粗的圆角矩形边框 */
  border: 2px solid #e0e6ed 
  border-radius: 12px
  padding: 12px
  box-shadow: 0 4px 12px rgba(0,0,0,0.05)

.sidebar-mini.left .sidebar-box
  background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,247,255,0.95) 100%)
  border: 2px solid #d0e5ff

.sidebar-title
  font-size: 0.9rem
  font-weight: bold
  margin-bottom: 10px
  border-bottom: 2px solid #004a99
  padding-bottom: 4px
  color: #333

/* 侧边栏列表 */
.link-list, .archive-list
  list-style: none
  padding: 0
  margin: 0
  li
    margin-bottom: 6px
    a
      text-decoration: none
      color: #004a99
      font-size: 0.85rem
      display: flex
      justify-content: space-between
      &:hover
        color: #3273dc

/* 顶部大图 */
.top-figure-container
  flex: 1
  overflow: hidden
  border-radius: 12px
  border: 2px solid rgba(0,0,0,0.05) /* 给图片也加一个极淡的框 */
  img
    width: 100%
    height: 280px
    object-fit: cover
    display: block

/* 关键词索引 */
.tag-index-container
  width: 92%
  margin: 15px auto
  padding: 10px 0
  background: rgba(248, 249, 250, 0.8)
  /* 同样使用圆角矩形边框 */
  border: 2px solid #ebedef
  border-radius: 12px
  text-align: center

.tag-cloud
  display: flex
  flex-wrap: wrap
  justify-content: center
  gap: 8px 20px

.tag-name
  font-size: 0.85rem
  font-weight: 700
  color: #004a99

/* --- 下方三栏博文网格 --- */
.post-grid-three-col
  display: grid
  grid-template-columns: repeat(3, 1fr)
  gap: 20px
  padding: 10px 4% 40px

/* 文章卡片：圆角矩形边框 + 阴影 */
.post-card
  /* 1. 将纯白背景改为半透明白色 (建议 0.7 到 0.8 之间) */
  background: rgba(255, 255, 255, 0.2) 
  
  /* 2. 核心：毛玻璃模糊效果 */
  /* blur 数值越大，背后的纹理就越模糊 */
  backdrop-filter: blur(10px)
  -webkit-backdrop-filter: blur(8px) /* 兼容 Safari 浏览器 */

  /* 3. 增强质感：边框建议使用纯白或极浅的半透明色 */
  border: 2px solid rgba(255, 255, 255, 0.4) 
  
  /* 保持原有的圆角和过渡动画 */
  border-radius: 15px
  overflow: hidden
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)
  display: flex
  flex-direction: column
  box-shadow: 0 4px 15px rgba(0,0,0,0.05)
  
  &:hover
    transform: translateY(-5px)
    /* 悬停时稍微加深背景或阴影 */
    background: rgba(255, 255, 255, 0.85)
    box-shadow: 0 12px 24px rgba(0,0,0,0.1)
  /* 关键修改：稍粗的边框 */
  border: 3px solid #eef2f6 
  border-radius: 15px /* 稍微大一点的圆角更显精致 */
  overflow: hidden
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)
  display: flex
  flex-direction: column
  box-shadow: 0 4px 10px rgba(0,0,0,0.04)
  
  &:hover
    transform: translateY(-5px)
    /* 悬停时阴影加深，边框颜色变亮 */
    box-shadow: 0 12px 20px rgba(0,0,0,0.08)
    border-color: #d0dbe5

.post-card-image img
  width: 100%
  height: 140px
  object-fit: cover
  /* 图片底部加一个细线区分内容 */
  border-bottom: 1px solid #f0f0f0

.post-card-content
  padding: 15px
  flex-grow: 1

.post-card-title
  font-size: 1.1rem
  margin: 0 0 8px 0
  font-weight: 700
  line-height: 1.3
  a
    text-decoration: none
    color: #2c3e50
    &:hover
      color: #004a99

.post-card-excerpt
  font-size: 0.85rem
  color: #5d6d7e
  line-height: 1.6
  margin-bottom: 12px

.post-card-meta
  font-size: 0.75rem
  color: #abb2b9

/* 暗色模式适配 */
@media (prefers-color-scheme: dark)
  html
    background-color: #1a1c1e
    background-blend-mode: overlay
  body > header
    background: #121212
  .sidebar-box, .post-card, .tag-index-container
    background: #242629
    border-color: #323539
    box-shadow: 0 4px 12px rgba(0,0,0,0.2)
  .post-card-title a, .sidebar-title
    color: #e8e8e8

/* 响应式适配 */
@media (max-width: 1024px)
  .post-grid-three-col
    grid-template-columns: repeat(2, 1fr)

@media (max-width: 768px)
  /* 1. 缩短顶部 Hero 区堆叠后的间距 */
  .hero-section
    flex-direction: column
    gap: 10px            /* 从 15px 缩减 */
    padding: 15px 4% 5px /* 略微减少上下内边距 */
    .sidebar-mini
      width: 100%
  
  /* 2. 缩短标签云容器的边距 */
  .tag-index-container
    margin: 10px auto    /* 从 15px 缩减 */

  /* 3. 核心：缩短文章卡片之间的纵向间距 */
  .post-grid-three-col
    grid-template-columns: 1fr
    gap: 12px            /* 从 20px 缩减到 12px */
    padding-bottom: 20px /* 底部留白也相应减小 */
